<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Precise Extract - Edit & Review</title>
<link rel="stylesheet" href="style.css">
<link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <div class="sidebar close">
        <div class="logo-box">
            <img src="logoslide.png" class="logo-image"> 
            <div class="logo-name">Precise Extract
        </div>     
    </div>  
        <ul class="sidebar-list">
            <li>
                <div class="extrac">
                    <a href="#" class="link">
                        <i class='bx bx-table'></i>
                        <span class="extname">Extraction</span>
                    </a>             
                    <div class="toolty">
                        <span class="tooltipi">Add Group</span>
                        <i class='bx bx-folder-plus bx-flip-horizontal' style='color:#b9b5b5' id="agIcon"></i>        
                    </div>    
                    <div class="tooltyd">
                    <span class="tooltipid">Delete All Groups</span>             
                    <i class='bx bx-folder-minus bx-flip-horizontal' style='color:#b9b5b5' id="deletegIcon" ></i>          
                    </div>
                </div>
            </li>
            <li>
            <div class="icon-link">
                <a href="#" class="link">
                    <i class='bx bx-folder' style='color:#b9b5b5' ></i>
                  <span class="link-name">Group</span> 
                </a>
                <i class='bx bx-chevron-right'></i>
                <div class="tooltyf">
              <span class="tooltipif">Add Files</span>                                     
              <i id="fileUploadIcon" class='bx bxs-file-plus'></i>   
               <input type="file" id="fileInput" style="display: none;" accept=".pdf, .jpg, .jpeg, .png" multiple>
                </div> 
                <div class="tooltydel">
                   <span class="tooltipidel">Delete Group</span> 
                    <i class='bx bxs-trash' id="deleteIcon"></i>         
                   </div>
              </div>
              <ul class="sub-menu">
                <li><p>Table 1</p></li>
              </ul>  
            </li>
            <li class="accountli">
                <div class="titleacc">
                    <a href="#" class="link">
                        <i class='bx bx-user' ></i>
                        <span class="accname" id="accname">Account</span>
                    </a>
                </div>
            </li>
            <li class="exportli">
                <div class="exptitle">
                    <a href="#" class="link">
                        <i class='bx bx-spreadsheet' style='color:#b9b5b5' ></i>
                        <button type="button" class="buttonexpo">
                            <span class="button__text">Export</span>
                            <span class="button__icon"><svg class="svg" data-name="Layer 2" id="bdd05811-e15d-428c-bb53-8661459f9307" viewBox="0 0 35 35" xmlns="http://www.w3.org/2000/svg"><path d="M17.5,22.131a1.249,1.249,0,0,1-1.25-1.25V2.187a1.25,1.25,0,0,1,2.5,0V20.881A1.25,1.25,0,0,1,17.5,22.131Z"></path><path d="M17.5,22.693a3.189,3.189,0,0,1-2.262-.936L8.487,15.006a1.249,1.249,0,0,1,1.767-1.767l6.751,6.751a.7.7,0,0,0,.99,0l6.751-6.751a1.25,1.25,0,0,1,1.768,1.767l-6.752,6.751A3.191,3.191,0,0,1,17.5,22.693Z"></path><path d="M31.436,34.063H3.564A3.318,3.318,0,0,1,.25,30.749V22.011a1.25,1.25,0,0,1,2.5,0v8.738a.815.815,0,0,0,.814.814H31.436a.815.815,0,0,0,.814-.814V22.011a1.25,1.25,0,1,1,2.5,0v8.738A3.318,3.318,0,0,1,31.436,34.063Z"></path></svg></span>
                          </button>
                    </a>
                </div>
            </li>
            </ul>
    </div>
    <section class="home">
        <div class="toggle-sidebar"> 
            <!-- <i class='bx bx-menu' style='color:#b9b5b5'></i> -->
        </div>
        <div id="tableContainer"></div>
        <div class="scontainer">
            <div class="search-container">
              <input class="input" type="text">
              <svg class="search__icon" height="24" width="24" fill="#FFFFFF" viewBox="0 0 24 24" data-name="Layer 1" id="Layer_1" class="sparkle">
                <path d="M10,21.236,6.755,14.745.264,11.5,6.755,8.255,10,1.764l3.245,6.491L19.736,11.5l-6.491,3.245ZM18,21l1.5,3L21,21l3-1.5L21,18l-1.5-3L18,18l-3,1.5ZM19.333,4.667,20.5,7l1.167-2.333L24,3.5,21.667,2.333,20.5,0,19.333,2.333,17,3.5Z"></path>
            </svg>
            </div>
            </div>
    </section>
    <div class="delpopup" id="dpop">
        <div class="delcard">
            <div class="card-cont">
              <p class="card-heading">Delete Group?</p>
              <p class="card-desc">Are you sure you want to delete this group</p>
            </div>
            <div class="card-butn">
                <button class="card-button secondary" id="cancelButton">Cancel</button>
                <button class="card-button primary" id="deleteButton">Delete</button>
            </div>
          </div>
      </div>
      <div class="delgpopup" id="dgpop">
        <div class="delgcard">
            <div class="gcard-cont">
              <p class="gcard-heading">Delete All Groups?</p>
              <p class="gcard-desc">Are you sure you want to delete all groups</p>
            </div>
            <div class="gcard-butn">
                <button class="gcard-button gsecondary" id="gcancelButton">Cancel</button>
                <button class="gcard-button gprimary" id="gdeleteButton">Delete</button>
            </div>
          </div>
      </div>
      <div class="addgpopup" id="agpop">
        <div class="agcard">
            <div class="agcard-cont">
              <p class="agcard-heading">Add a group</p>   
              <p class="agcard-desc">Do you want to add a group ?</p>  
              <!-- <input required="" placeholder="Name" type="text" class="nameinput"> -->
            </div>
            <div class="agcard-butn">
                <button class="agcard-button agsecondary" id="agcancelButton">Cancel</button>
                <button class="agcard-button agprimary" id="agdeleteButton">Add</button>
            </div>
          </div>
      </div>
      <div class="accpopup" id="accpop">
        <div class="nmcard">
            <div class="accbackg"></div>
            <div class="profimg" id="profile-image">
                <img src="profile.png" id="profile-pic">
                <input type="file" id="profile-input" style="display: none;" accept=".jpg, .jpeg, .png">
            </div>  
            <input class="emailshow" name="email" placeholder="" type="email">     
            <button class="logoutbtn">
                Log out
              </button>              
        </div>
      </div>
    <script>
        var htmlString = `<html><head></head><body><table><thead></thead><tbody><tr><td>Date</td><td>InstrumentID</td><td>Amount</td><td>Type</td><td>Balance</td><td>Remarks</td></tr><tr><td>16/12/2019</td><td></td><td>8100.00</td><td>DR</td><td>1,175.81</td><td>05216015000619</td></tr><tr><td>04/12/2019</td><td></td><td>8100.00</td><td>CR</td><td>9,275.81</td><td>NEFT_IN:-KKBKH19338798142/-NAYNESH CHANDRAKANTKOTHA</td></tr><tr><td>15/11/2019</td><td></td><td>8100.00</td><td>DR</td><td>1,175.81</td><td>05216015000619</td></tr><tr><td>02/11/2019</td><td></td><td>8100.00</td><td>CR</td><td>9,275.81</td><td>NEFT_IN:KKBKH19306663490/-NAYNESH CHANDRAKANTKOTHA</td></tr><tr><td>15/10/2019</td><td></td><td>8100.00</td><td>DR</td><td>1,175.81</td><td>05216015000619</td></tr><tr><td>10/10/2019</td><td></td><td>1.35</td><td>DR</td><td>9,275.81</td><td>SGST TAX</td></tr><tr><td>10/10/2019</td><td></td><td>1.35</td><td>DR</td><td>9.277.16</td><td>CGSTTAX</td></tr><tr><td>10/10/2019</td><td></td><td>15.00</td><td>DR</td><td>9,278.51</td><td>SMS CHARGES from 01-07-2019 to 30-09-2019</td></tr><tr><td>05/10/2019</td><td></td><td>8100.00</td><td>CR</td><td>9,293.51</td><td>NEFT_IN:-KKBKH19278635203/-NAYNESH CHANDRAKANTKOTHA</td></tr><tr><td>05/10/2019</td><td></td><td>34.00</td><td>CR</td><td>1,193.51</td><td>05212011023472:Int.Pd:01-07-2019 to 30-09-2019</td></tr><tr><td>16/09/2019</td><td></td><td>8100.00</td><td>DR</td><td>1,159.51</td><td>05216015000619</td></tr><tr><td>10/09/2019</td><td></td><td>8100.00</td><td>CR</td><td>9,259.51</td><td>NEFT_IN:-KKBKH19253804002/-NAYNESH CHANDRAKANTKOTHA</td></tr><tr><td>16/08/2019</td><td></td><td>8100.00</td><td>DR</td><td>1,159.51</td><td>05216015000619</td></tr><tr><td>02/08/2019</td><td></td><td>8100.00</td><td>CR</td><td>9,259.51</td><td>NEFT_IN:KKBKH19214659687/-NAYNESH CHANDRAKANTKOTHA</td></tr><tr><td>20/07/2019</td><td></td><td>1.00</td><td>DR</td><td>1,159.51</td><td>SGSTTAX</td></tr><tr><td>20/07/2019</td><td></td><td>1.00</td><td>DR</td><td>1,160.51</td><td>CGSTTAX</td></tr><tr><td>20/07/2019</td><td></td><td>15.00</td><td>DR</td><td>1.161.51</td><td>SMS CHARGES from 01-04-2019 to 30-06-2019</td></tr></tbody></table></body></html>`;
        var tempContainer = document.createElement('div');
        tempContainer.innerHTML = htmlString;
        var tableContainer = document.getElementById('tableContainer');
        tableContainer.appendChild(tempContainer.querySelector('table'));




    document.addEventListener("DOMContentLoaded", function() {
    const listItems = document.querySelectorAll(".sidebar-list li");
    listItems.forEach((item) => {
        item.addEventListener("click", () => {
            let isActive = item.classList.contains("active");
            listItems.forEach((el) => {
                el.classList.remove("active");
            });
            if (isActive) item.classList.remove("active");
            else item.classList.add("active");
        });
    });

    const toggleSidebar = document.querySelector(".toggle-sidebar");
    const logo = document.querySelector(".logo-box");
    const sidebar = document.querySelector(".sidebar");
    toggleSidebar.addEventListener("click", () => {
        sidebar.classList.toggle("close"); 
    });
    logo.addEventListener("click", () => {
        sidebar.classList.toggle("close");
    });




    let arrows = document.querySelectorAll(".bx-chevron-right");
    for (var i = 0; i < arrows.length; i++) {
        arrows[i].addEventListener("click", (e) => {
            let arrowParent = e.target.parentElement.parentElement;
            arrowParent.classList.toggle("show");
        });
    }



    const deletePopup = document.getElementById('dpop');
    const deleteButton = document.getElementById('deleteButton');

    function toggleDeletePopup() {
    deletePopup.style.display = (deletePopup.style.display === 'none') ? 'block' : 'none';
    }
    function handleDeleteButtonClick() {
    const groupToDelete = this.closest('.icon-link').parentElement; 
    console.log('Group to delete:', groupToDelete); 
    groupToDelete.remove(); 
    toggleDeletePopup(); 
    }

deleteButton.addEventListener('click', handleDeleteButtonClick);
document.getElementById('cancelButton').addEventListener('click', toggleDeletePopup);





    const deletegIcon = document.getElementById('deletegIcon');
    const deletegPopup = document.getElementById('dgpop');
    function toggleDeletegPopup() {
        deletegPopup.style.display = (deletegPopup.style.display === 'none') ? 'block' : 'none';
    }
    deletegIcon.addEventListener('click', toggleDeletegPopup);
    document.getElementById('gcancelButton').addEventListener('click', toggleDeletegPopup);




    const agIcon = document.getElementById('agIcon');
    const agPopup = document.getElementById('agpop');
    function toggleAddGroupPopup() {
        agPopup.style.display = (agPopup.style.display === 'none') ? 'block' : 'none';
    }
    agIcon.addEventListener('click', toggleAddGroupPopup);
    document.getElementById('agcancelButton').addEventListener('click', toggleAddGroupPopup);

    const agdeleteButton = document.getElementById('agdeleteButton');
    agdeleteButton.addEventListener('click', function() {
        const groupName = "New Group"; 
        const newGroupItem = document.createElement('li');
        newGroupItem.innerHTML = `
        <div class="icon-link" style="margin-left: 40px;"> 
                <a href="#" class="link">
                    <span class="link-name">${groupName}</span> 
                </a>
                <i class='bx bx-chevron-right'></i>
                <div class="tooltyf">
                    <span class="tooltipif">Add Files</span>                                     
                    <i id="fileUploadIcon" class='bx bxs-file-plus'></i>
                    <input type="file" id="fileInput" style="display: none;" accept=".pdf, .jpg, .jpeg, .png" multiple>
                </div> 
                <div class="tooltydel">
                    <span class="tooltipidel">Delete Group</span> 
                    <i class='bx bxs-trash' id="deleteIcon"></i>
                </div>
            </div>
            <ul class="sub-menu">
            </ul>`;
            const defaultGroupItem = document.querySelector('.sidebar-list li:nth-child(2)');
        defaultGroupItem.insertAdjacentElement('afterend', newGroupItem);
        applyEventListeners();
        const groupItems = document.querySelectorAll('.sidebar-list li');
        for (let i = 0; i < groupItems.length; i++) {
            groupItems[i].style.marginBottom = '-5px'; 
        }
        toggleAddGroupPopup();
    });
    function applyEventListeners() {
        const arrows = document.querySelectorAll(".bx-chevron-right");
        for (let i = 0; i < arrows.length; i++) {
            arrows[i].addEventListener("click", (e) => {
                const arrowParent = e.target.parentElement.parentElement;
                arrowParent.classList.toggle("show");
            });
        }
        const fileUploadIcon = document.getElementById('fileUploadIcon');
        fileUploadIcon.addEventListener('click', function() {
            document.getElementById('fileInput').click();
        });
        document.getElementById('fileInput').addEventListener('change', function() {
            const files = this.files;
            if (files.length > 0) {
                validateFiles(files);
            }
        });
        const deleteIcons = document.querySelectorAll('.bxs-trash');
        for (let i = 0; i < deleteIcons.length; i++) {
            deleteIcons[i].addEventListener('click', toggleDeletePopup);
        }
    }
    applyEventListeners();




    
    document.getElementById('fileUploadIcon').addEventListener('click', function() {
        document.getElementById('fileInput').click();
    });
    document.getElementById('fileInput').addEventListener('change', function() {
        const files = this.files;
        if (files.length > 0) {
            validateFiles(files);
        }
    });
    function validateFiles(files) {
        const allowedFormats = ['.jpeg', '.jpg', '.png', '.pdf'];
        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            const fileNameParts = file.name.split('.');
            const fileExtension = fileNameParts[fileNameParts.length - 1].toLowerCase();
            if (!allowedFormats.includes('.' + fileExtension)) {
                alert('Invalid file format. Please select files in .jpeg, .jpg, .png, or .pdf format.');
                return;
            }
        }
        handleFiles(files);
    }
    function handleFiles(files) {
        console.log("Handling files:", files);
    }




    document.getElementById('accname').addEventListener('click', function(event) {
        event.stopPropagation(); 
        document.getElementById('accpop').style.display = 'block';
    });

    document.body.addEventListener('click', function(event) {
        var accpop = document.getElementById('accpop');
        var accname = document.getElementById('accname');
        var target = event.target;
        if (target !== accpop && !accpop.contains(target) && target !== accname) {
            accpop.style.display = 'none';
        }
    });

    const profileImage = document.getElementById('profile-image');
    const profilePic = document.getElementById('profile-pic');
    const fileInput = document.getElementById('profile-input');
    profilePic.addEventListener('click', function() {
        fileInput.click(); 
    });
    fileInput.addEventListener('change', function() {
        const file = this.files[0];
        if (file) {
            if (/\.(jpe?g|png)$/i.test(file.name)) {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = function() {
                    profilePic.src = reader.result;
                };
            } else {
                alert('Please select a valid image file (JPEG, JPG, or PNG).');
                this.value = ''; 
            }
        }
    });
});
    </script>
</body>
</html>